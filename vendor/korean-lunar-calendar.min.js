var KoreanLunarCalendar=function(){"use strict";var a={KOREAN_LUNAR_MIN_VALUE:10000101,KOREAN_LUNAR_MAX_VALUE:20501118,KOREAN_SOLAR_MIN_VALUE:10000213,KOREAN_SOLAR_MAX_VALUE:20501231,KOREAN_LUNAR_BASE_YEAR:1e3,SOLAR_LUNAR_DAY_DIFF:43,LUNAR_SMALL_MONTH_DAY:29,LUNAR_BIG_MONTH_DAY:30,SOLAR_SMALL_YEAR_DAY:365,SOLAR_BIG_YEAR_DAY:366,SOLAR_DAYS:[31,28,31,30,31,30,31,31,30,31,30,31,29],KOREAN_CHEONGAN:[44049,51012,48337,51221,47924,44592,44221,49888,51076,44228].map((function(a){return String.fromCharCode(a)})),KOREAN_GANJI:[51088,52629,51064,47896,51652,49324,50724,48120,49888,50976,49696,54644].map((function(a){return String.fromCharCode(a)})),KOREAN_GAPJA_UNIT:[45380,50900,51068].map((function(a){return String.fromCharCode(a)})),CHINESE_CHEONGAN:[30002,20057,19993,19969,25098,24049,24218,36763,22764,30328].map((function(a){return String.fromCharCode(a)})),CHINESE_GANJI:[23376,19985,23493,21359,36784,24051,21320,26410,30003,37193,25100,20133].map((function(a){return String.fromCharCode(a)})),CHINESE_GAPJA_UNIT:[24180,26376,26085].map((function(a){return String.fromCharCode(a)})),INTERCALATION_STR:[50980,38287].map((function(a){return String.fromCharCode(a)})),KOREAN_LUNAR_DATA:[2194016855,2197734699,2193886506,2194017621,3271595437,2193884522,2194016621,2197837021,3267626157,2193885773,2197827149,2193885990,3271600982,2194016981,2193883994,2197842298,3267758427,2193884315,2197834395,2193885771,3271674533,2193884842,2194016981,2197852893,3267625653,2194016599,2197705902,2194017431,3267626571,2197759306,2194017705,2197857974,3267757677,2193883758,2197907758,2193885486,3267628182,2197835157,2193886538,2197867881,3267627864,2194148715,2197918315,2193883741,3267627307,2197838507,2193885845,2193886026,3271696043,2193883861,2197927258,2194015419,3267625563,2197845303,2193884459,2193884821,3271571285,2193884842,2198063797,2193883765,3267626166,2197850718,2193885782,2193886502,3271581350,2194017621,2193884586,2197822826,3267758445,2197861551,2193884317,2193885773,3271589165,2193885862,2194017109,2197833173,3267625818,2194016605,2197885299,2193884251,3271596623,2193884747,2193885861,2197842793,3267757749,2193883866,2197826230,2194016567,3271476375,2194017431,2193884747,2197718698,3267759525,2193884596,2198030957,2193883822,3267628641,2197826862,2193886358,2197855565,2193886538,2194017637,2197906837,2194015581,3267625581,2197826141,2193885483,2197858967,3267627669,2193886026,2197850970,2194016981,3267757403,2197832375,2193884247,2193884459,3271564587,2193884821,2197853997,2193884586,3267758773,2197837037,2193884342,2194016855,3271504974,2193886502,2197929618,2194017621,3267626410,2197850554,2194016621,2193884334,3271576221,2193885773,2193886501,2197827365,3267627860,2198056297,2193883866,2194016605,3271648411,2193884315,2193885771,2197834571,3267626661,2197863251,2193884852,2194016950,3271657814,2194016663,2193884311,2197833367,3267626315,2197735077,2194017701,2193884588,3271797429,2193883758,2193885486,2197843118,3267628182,2193886538,2197827402,2194017621,3271603563,2194015579,2193883741,2197846333,3267627303,2193885845,2197904661,2193886026,3267758933,2197885653,2194015451,2197721694,3267758679,2193884459,2197842603,2193884821,3267626666,2197830570,2194016949,2197861559,3267626158,2194016855,2197714222,2193886502,3267759763,2197837525,2193884586,2194016693,3271566701,2193884334,2197924429,2193885773,3267628326,2197843301,2193886034,2194017642,3271567066,2194016605,2197931165,2193884315,3267627595,2197850795,2193884837,2193886036,3271576500,2194016950,2194016603,2197824823,3267626135,2197853775,2193884491,2193884837,3271653061,2193884588,2194016950,2197895278,3267627310,2197867671,2193886358,2193886538,3271593386,2194017109,2193884522,2197969627,3267625565,2193885486,2197826859,2193885845,3271597389,2193885994,2194017109,2197845365,3267626202,2194016859,2197833047,2193884459,3271674515,2193884819,2193884842,2197850842,3267758821,2193884342,2197834414,2194016855,3267626279,2197759270,2194017875,2197857995,3267626410,2194015661,2197906605,2193884334,3267627598,2197835085,2193886502,2197863763,3267627858,2194017130,2197919082,2194015575,3267626141,2197903899,2193885771,2193885861,3271564965,2193886034,2197863258,2194016950,3267758427,2197841079,2193884311,2193884747,3271571275,2193884837,2197862067,2193884588,3267758774,2197914285,2193884318,2193885773,3271581003,2193885989,2193886034,2197892690,3267758938,2197858654,2194016603,2193884315,3271584343,2193885771,2193885861,2197834661,3267626708,2197867222,2194016950,2194016567,2197849247,2193884311,2193884747,2197706442,3267759525,2193884586,2197822828,2194016878,3271604527,2193885486,2193886358,2197847381,3267628362,2194017621,2197894485,2193884522,3267758701,2197822045,2193885483,2197850715,3267627669,2193885994,2197904170,2194016981,3267626202,2197822650,2194016855,2197853487,3267626279,2193884819,2197845683,2193884842,3267758773,2197828981,2193884342,2197867111,3267627566,2193886486,2197851798,2193886538,3267759530,2197837290,2194015597,2193884334,3271632989,2193885741,2197859607,2193885861,3267627858,2197847412,2194016986,2194015581,3271570747,2193884251,2193885739,2197887531,3267627685,2197855061,2193884850,2194016982,3271644470,2194016567,2193884247,2197830231,3267626283,2197727910,2194017685,2193884586,3271654060,2194016878,2193884462,2197830830,3267627606,2197863723,2193886506,2194017621,3271595437,2193884522,2194016877,2197837149,3267626283,2193885837,2197827157,2193885994,3271600982,2194016981,2193884378,2197842554,3267758679,2193884443,2197899799,2193884755,3271673513,2193884586,2194016949,2197852861,3267625654,2194016823,2197706030,2193886486,2194017867,2197698386,2194017706,2197927348,3267757421,2193883822,2197846589,2193885741,3267628309,2197835157,2193886034,2197867369,3267758810,2194015581,2197918299,2193884251,3267627563,2197838507,2193885845,2193886034,3271564970,2194016950,2197865819,2194015415,3267626071,2197845303,2193884459,2193884821,3271640725,2193884586,2197867189,2194016878,3267626158,2197850718,2193885782,2193886506,3271585450,2194017621,2193884522,2197891418,3267758429,2197861551,2193884315,2193885773,3271589165,2193885994,2194017109,2197833173,3267625690,2194016603,2197885271,2193884315,3271596623,2193884747,2193884841,2197842666,3267757749,2193883830,2197826222,2194016567,3271537814,2193886358,2194017867,2197714610,3267759530,2194015661,2197828461,2193883758,3267627310,2197826861,2193886357,2197855565,3267627850,2194017129,2197906778,2194015579,3267625565,2197826139,2193885483,2197858967,3267626645,2193885002,2197850970,2194016950,3267757371,2197832375,2193883735,2193884459,3271564587,2193884821,2197853869,2193884586,3267758773,2197837037,2193884334,2194016855,3271504974,2193886506,2197929364,2194017109,2193884522,2197846394,2194016605,2193884334,3271576219,2193885773,2193886501,2197887658,3267758933,2197853549,2193883866,2194016603,3271578807,2193884311,2193885771,2197834571,3267626665,2197867221,2194015669,2193883830,3271592286,2194016559,2193884311,2197702294,3267628362,2197868197,2194017641,2194015597,3271664309,2193883758,2193885486,2197843117,3267628181,2193886538,2197827402,2194017113,3271607661,2194015579,2193883741,2197846331,3267627307,2193885845,2197904149,2193884874,3267758805,2197885622,2194015419,2197852767,3267625559,2193884459,2197711530,2194017941,3267626666,2197830570,2194016949,2197861559,3267626158,2194016855,2197714221,2193886502,3267759509,2197837269,2193884522,2194016621,3271566685,2193884334,2197858895,2193885773,3267628325,2197843305,2194017109,2193883994,3271568058,2194016603,2197931163,2193884311,3267627595,2197850923,2193884837,2193884884,3271772853,2193883830,2194016567,2197824815,3267626135,2197722702,2193886538,2194017957,3271648937,2194015597,2193883830,2197895262,3267627310,2197863575,2193885845,2193886538,3271593386,2194017101,2194015595,2197832411,3267625565,2193885485,2197826859,2193885845,3271596877,2193884842,2194016981,2197841269,3267757243,2193883739,2197894231,2193884459,3271539348,2194017941,2193884842,2197850842,3267758517,2193884342,2197834414,2194016847,3267495206,2197892390,2194017621,2197923241,3267626346,2194016621,2197906589,2193884318,3267627597,2197835085,2193886501,2197863763,3267627860,2194017114,2197915994,2194016603,3267626139,2197834391,2193885771,2193885861,3271564965,2193884884,2197994203,2193883830,3267758391,2197841071,2193884311,2193884747,3271440202,2194017701,2197862069,2194015597,3267625646,2197846334,2193885486,2193886358,3271646485,2193886538,2194017701,2197894485,3267626346,2197846650,2194016861,2193885485,3271584427,2193885845,2193886026,2197834666,3267758805,2193884506,2197891258,2194016859,3271587127,2193884459,2193884819,2197903125,3267626666,2194016981,2197829045,2193884342,3271592542,2193885774,2193886502,2197843622,3267628370,2194017706,2197898858,2194015597,3267626158,2197830301,2193885773,2197847339,3267627813,2193886546,2197904724,2194017114,3267757405,2197828955,2193884315,2197845591,2193885771,2193885861,2197842789,2193884882,3267758810,2197833142,2194016567,2193884311,3271571095,2193884749,2197714602,2194017701,3267626410,2197838572,2194016942,2193885486,3271572782,2193886358,2197916997,2193886538,3267759445,2197906837,2193884522,2194016877,3271574877,2193884461,2193885845,2197896341,3267627850,2197912394,2194016981,2193884506,3271645754,2194016859,2193884459,2197899799,3267626643,2197853867,2193884842,2194016949,3271582965,2193884342,2194016855,2197701934,3267628310,2194017939,2197698386,2194017706,3271652778,2194015597,2193884334,2197903901,3267627565,2193886485,2197835173,2193886034,3271597418,2194016986,2194015581,2197906075,3267626075,2193885739,2197838635,2193885845,3267627858,2197891762,2194016982,2197910870,3267757367,2193884247,2197837399,2193884459,3267626645,2197829525,2193884586,2197858998,3267758701,2193884334,2197842542,2193885782,3267628330,2197839530,2194017621,2193884586,3271572330,2194016877,2197845181,2193884331,3267627661,2197839189,2193885994,2194017109,3271574997,2193884378,2194016605,2197824855,3267626139,2197842583,2193884747,2193884841,2197834666,2194015925,2193883834,2197826230,3267758391,2197710126,2193886486,2194017867,3271448274,2194017705,2194015669,2197828461,3267625646,2193885742,2197827117,2193886357,3271585109,2193886034,2194017129,2197833178,3267757405,2193883741,2197830235,2193885739,3271654027,2193885845,2193886026,2197904170,3267758805,2194015579,2197832375,2193883735,3271595311,2193884459,2193884821,2197841621,3267626410,2194016949,2197833069,2193884334,3267758679,2197763158,2193886506,2197913226,3267759445,2193884586,2197838554,2194016605,3267626158,2197834411,2193885773,2197851435,3267627817,2194017109,2197845365,2193883866,3267758429,2197837015,2193884315,2193885771,3271637579,2193884841,2197850841,2194015925,3267625654,2197903670,2194016567,2193884311,3271444118,2193886794,2197860006,2194017705,3267757485,2197906093,2193883822,2193885486,3271580845,2193886357,2193886538,2197896522,3267758953,2197845370,2194015579,2193883741,3271579995,2193885483,2193885845,2197835157,3267627850,2194017109,2197825237,2194015579,3271582327,2193883735,2193884459,2197707434,3267759765,2193884842,2197830570,2194016949,2197849277,2193884334,2194016855,2197706061,3267628326,2194017685,2197898837,2193884522,3267758509,2197824861,2193884334,2197842523,3267627597,2193886501,2197839273,2194017109,3267626346,2197826266,2194016605,2197845179,3267626139,2193885771,2197838667,2193884841,3267627732,2197965749,2193883830,2194016603,3271566647,2193884311,2197710422,2193886794,3267759781,2197903017,2194015669,2193883830,3271637166,2193885486,2197912717,2193886357,3267628362,2197908874,2194017129,2194015597,3271639643,2193883741,2193885485,2197826859,3267627669,2197847381,2193886026,2194017109,3271644501,2194015451,2193883739,2197895255,3267626283,2197850779,2193884821,2193884842,3271584490,2194016949,2193884342,2197834414,3267758679,2193884455,2197698342,2194017685,3271587509,2193884522,2194016685,2197837021,3267626158,2193885774,2197835085,2193886501,3271593305,2193886036,2194017642,2197907802,3267758427,2193884315,2197834395,2193885771,3271600935,2193884837,2193884884,2197973877,3267625654,2194016603,2197836983,2193884311,3267626571,2197698378,2194017957,2197849817,3267757485,2193883830,2197838190,2193885486,3267628182,2197835413,2193886538,2194017701,3271567189,2193884524,2197977787,2193883741,3267627309,2197839019,2193885845,2193886026,3271637834,2194017109,2197853533,2193884346,3267758683,2197837143,2193884459,2193885845,3271576469,2193884842,2194016981,2197825205,3267626166,2197842542,2194016855,2193884455,3271448230,2194017683,2193884586,2197830506,3267758445,2197861551,2193884334,2193885773,3271650573,2193886501,2193886546,2197839316,3267758954,2194016621,2197824859,2193884315,3271588439,2193885771,2193885989,2197904165,3267626708,2194016986,2197895350]};return function(){function t(){this.solarCalendar={year:0,month:0,day:0},this.lunarCalendar={year:0,month:0,day:0,intercalation:!1},this.gapjaYearInx=[0,0,0],this.gapjaMonthInx=[0,0,1],this.gapjaDayInx=[0,0,2]}return t.prototype.getLunarData=function(t){return a.KOREAN_LUNAR_DATA[t-a.KOREAN_LUNAR_BASE_YEAR]},t.prototype.getLunarIntercalationMonth=function(a){return a>>12&15},t.prototype.getLunarDays=function(a){return this.getLunarData(a)>>17&511},t.prototype.getLunarDays2=function(t,r,n){var e=this.getLunarData(t);return n&&this.getLunarIntercalationMonth(e)==r?(e>>16&1)>0?a.LUNAR_BIG_MONTH_DAY:a.LUNAR_SMALL_MONTH_DAY:(e>>12-r&1)>0?a.LUNAR_BIG_MONTH_DAY:a.LUNAR_SMALL_MONTH_DAY},t.prototype.getLunarDaysBeforeBaseYear=function(t){for(var r=0,n=a.KOREAN_LUNAR_BASE_YEAR;n<t+1;n++)r+=this.getLunarDays(n);return r},t.prototype.getLunarDaysBeforeBaseMonth=function(t,r,n){var e=0;if(t>=a.KOREAN_LUNAR_BASE_YEAR&&r>0){for(var o=1;o<r+1;o++)e+=this.getLunarDays2(t,o,!1);if(n){var A=this.getLunarIntercalationMonth(this.getLunarData(t));A>0&&A<r+1&&(e+=this.getLunarDays2(t,A,!0))}}return e},t.prototype.getLunarAbsDays=function(a,t,r,n){var e=0;return e=this.getLunarDaysBeforeBaseYear(a-1)+this.getLunarDaysBeforeBaseMonth(a,t-1,!0)+r,n&&this.getLunarIntercalationMonth(this.getLunarData(a))==t&&(e+=this.getLunarDays2(a,t,!1)),e},t.prototype.isSolarIntercalationYear=function(a){return(a>>30&1)>0},t.prototype.getSolarDays=function(t){var r=this.getLunarData(t);return this.isSolarIntercalationYear(r)?a.SOLAR_BIG_YEAR_DAY:a.SOLAR_SMALL_YEAR_DAY},t.prototype.getSolarDays2=function(t,r){var n=this.getLunarData(t);return 2==r&&this.isSolarIntercalationYear(n)?a.SOLAR_DAYS[12]:a.SOLAR_DAYS[r-1]},t.prototype.getSolarDayBeforeBaseYear=function(t){for(var r=0,n=a.KOREAN_LUNAR_BASE_YEAR;n<t+1;n++)r+=this.getSolarDays(n);return r},t.prototype.getSolarDaysBeforeBaseMonth=function(a,t){for(var r=0,n=1;n<t+1;n++)r+=this.getSolarDays2(a,n);return r},t.prototype.getSolarAbsDays=function(t,r,n){var e=0;return e=this.getSolarDayBeforeBaseYear(t-1)+this.getSolarDaysBeforeBaseMonth(t,r-1)+n,e-=a.SOLAR_LUNAR_DAY_DIFF},t.prototype.setSolarDateByLunarDate=function(a,t,r,n){var e,o=this.getLunarAbsDays(a,t,r,n),A=0,i=0;e=o<this.getSolarAbsDays(a+1,1,1)?a:a+1;for(var s=12;s>0;s--){var h=this.getSolarAbsDays(e,s,1);if(o>=h){A=s,i=o-h+1;break}}this.solarCalendar={year:e,month:A,day:i}},t.prototype.setLunarDateBySolarDate=function(a,t,r){var n,e=this.getSolarAbsDays(a,t,r),o=0,A=0,i=!1;n=e>=this.getLunarAbsDays(a,1,1,!1)?a:a-1;for(var s=12;s>0;s--){if(e>=this.getLunarAbsDays(n,s,1,!1)){o=s,this.getLunarIntercalationMonth(this.getLunarData(n))==s&&(i=e>=this.getLunarAbsDays(n,s,1,!0)),A=e-this.getLunarAbsDays(n,o,1,i)+1;break}}this.lunarCalendar={year:n,month:o,day:A,intercalation:i}},t.prototype.checkValidDate=function(t,r,n,e,o){var A=!1,i=1e4*n+100*e+o;if((t?a.KOREAN_LUNAR_MIN_VALUE:a.KOREAN_SOLAR_MIN_VALUE)<=i&&(t?a.KOREAN_LUNAR_MAX_VALUE:a.KOREAN_SOLAR_MAX_VALUE)>=i&&e>0&&e<13&&o>0){var s=t?this.getLunarDays2(n,e,r):this.getSolarDays2(n,e);if(!t&&1582==n&&10==e){if(o>4&&o<15)return!1;s+=10}o<=s&&(A=!0)}return A},t.prototype.setLunarDate=function(a,t,r,n){var e=!1;return this.checkValidDate(!0,n,a,t,r)&&(this.lunarCalendar={year:a,month:t,day:r,intercalation:n&&this.getLunarIntercalationMonth(this.getLunarData(a))==t},this.setSolarDateByLunarDate(a,t,r,n),e=!0),e},t.prototype.setSolarDate=function(a,t,r){var n=!1;return this.checkValidDate(!1,!1,a,t,r)&&(this.solarCalendar={year:a,month:t,day:r},this.setLunarDateBySolarDate(a,t,r),n=!0),n},t.prototype.setGapJa=function(){var t=this.getLunarAbsDays(this.lunarCalendar.year,this.lunarCalendar.month,this.lunarCalendar.day,!!this.lunarCalendar.intercalation);if(t>0){this.gapjaYearInx[0]=(this.lunarCalendar.year+6-a.KOREAN_LUNAR_BASE_YEAR)%a.KOREAN_CHEONGAN.length,this.gapjaYearInx[1]=(this.lunarCalendar.year+0-a.KOREAN_LUNAR_BASE_YEAR)%a.KOREAN_GANJI.length;var r=this.lunarCalendar.month;r+=12*(this.lunarCalendar.year-a.KOREAN_LUNAR_BASE_YEAR),this.gapjaMonthInx[0]=(r+3)%a.KOREAN_CHEONGAN.length,this.gapjaMonthInx[1]=(r+1)%a.KOREAN_GANJI.length,this.gapjaDayInx[0]=(t+4)%a.KOREAN_CHEONGAN.length,this.gapjaDayInx[1]=(t+2)%a.KOREAN_GANJI.length}},t.prototype.getGapJaIndex=function(){return this.setGapJa(),{cheongan:{year:this.gapjaYearInx[0],month:this.gapjaMonthInx[0],day:this.gapjaDayInx[0]},ganji:{year:this.gapjaYearInx[1],month:this.gapjaMonthInx[1],day:this.gapjaDayInx[1]}}},t.prototype.getGapja=function(t){var r=this.getGapJaIndex(),n=t?a.CHINESE_CHEONGAN:a.KOREAN_CHEONGAN,e=t?a.CHINESE_GANJI:a.KOREAN_GANJI,o=t?a.CHINESE_GAPJA_UNIT:a.KOREAN_GAPJA_UNIT,A=t?"".concat(a.INTERCALATION_STR[1]).concat(a.CHINESE_GAPJA_UNIT[1]):"".concat(a.INTERCALATION_STR[0]).concat(a.KOREAN_GAPJA_UNIT[1]);return{year:"".concat(n[r.cheongan.year]).concat(e[r.ganji.year]).concat(o[this.gapjaYearInx[2]]),month:"".concat(n[r.cheongan.month]).concat(e[r.ganji.month]).concat(o[this.gapjaMonthInx[2]]),day:"".concat(n[r.cheongan.day]).concat(e[r.ganji.day]).concat(o[this.gapjaDayInx[2]]),intercalation:this.lunarCalendar.intercalation?A:""}},t.prototype.getKoreanGapja=function(){return this.getGapja()},t.prototype.getChineseGapja=function(){return this.getGapja(!0)},t.prototype.getLunarCalendar=function(){return this.lunarCalendar},t.prototype.getSolarCalendar=function(){return this.solarCalendar},t}()}();
